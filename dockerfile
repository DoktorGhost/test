# Используем официальный образ Golang
FROM golang:1.19

# Устанавливаем переменную окружения API_PORT
ENV API_PORT 8080

# Копируем исходный код приложения в контейнер
WORKDIR /app
COPY . .
COPY .env /app

# Собираем приложение
RUN go build -o main ./cmd

# Экспонируем порт, на котором работает приложение
EXPOSE 8080

# Запускаем приложение
CMD ["./main"]